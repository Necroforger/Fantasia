package main

import (
	"log"

	"github.com/Necroforger/Fantasia/modules/audio"
	"github.com/Necroforger/Fantasia/modules/booru"
	"github.com/Necroforger/Fantasia/modules/information"
	"github.com/Necroforger/Fantasia/modules/roles"

	"github.com/Necroforger/Fantasia/system"
)

////////////////////////////////////////////
//            Generated by
//          tools/genmodules
////////////////////////////////////////////

// ModuleConfig ...
type ModuleConfig struct {
	Inverted    bool
	Audio       bool
	Booru       bool
	Information bool
	Roles       bool
}

// NewModuleConfig returns a new module configuration
func NewModuleConfig() *ModuleConfig {
	return &ModuleConfig{
		Inverted:    false,
		Audio:       true,
		Booru:       true,
		Information: true,
		Roles:       true,
	}
}

// RegisterModules builds a list of modules into the given system
func RegisterModules(s *system.System, config ModuleConfig) {
	if (config.Inverted && !config.Audio) || config.Audio {
		s.CommandRouter.SetCategory("Audio")
		s.BuildModule(&audio.Module{})
		log.Println("loaded audio module...")
	}
	if (config.Inverted && !config.Booru) || config.Booru {
		s.CommandRouter.SetCategory("Booru")
		s.BuildModule(&booru.Module{})
		log.Println("loaded booru module...")
	}
	if (config.Inverted && !config.Information) || config.Information {
		s.CommandRouter.SetCategory("Information")
		s.BuildModule(&information.Module{})
		log.Println("loaded information module...")
	}
	if (config.Inverted && !config.Roles) || config.Roles {
		s.CommandRouter.SetCategory("Roles")
		s.BuildModule(&roles.Module{})
		log.Println("loaded roles module...")
	}

}
